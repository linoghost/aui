<div class="author-list">
  <h2>Authors</h2>

<div>
  <h2>Add Author</h2>
  <form (ngSubmit)="createAuthor()" #authorForm="ngForm">
    <label for="fname">First name:</label><br>
    <input type="text" id="fname" name="fname" [(ngModel)]="newAuthor.name" required><br>

    <label for="lname">Last name:</label><br>
    <input type="text" id="lname" name="lname" [(ngModel)]="newAuthor.surname" required><br>

    <button type="submit" [disabled]="authorForm.invalid">Add Author</button>
  </form>
</div>

<hr>

<h2>Authors list</h2>
<div *ngIf="loading">Loading...</div>
<ul>
  <li *ngFor="let a of authors">
    <div *ngIf="editingAuthorId === a.id; else viewMode">
      <input type="text" [(ngModel)]="editedName" placeholder="First name" />
      <input type="text" [(ngModel)]="editedSurname" placeholder="Last name" />
      <button (click)="saveAuthor(a.id)">save</button>
      <button (click)="cancelEditing()">cancel</button>
    </div>
    <ng-template #viewMode>
      {{ a.fullName }}
      <button (click)="deleteAuthor(a.id)">delete</button>
      <button (click)="startEditing(a)">edit</button>
    </ng-template>
  </li>
</ul>


</div>
